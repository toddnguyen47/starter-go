import (
	"context"
	"io"
	"testing"

	. "github.com/onsi/ginkgo/v2"
	. "github.com/onsi/gomega"
)

// TODO: Rename `RenameYourTestClassTestSuite`.
// NOTE: You only need ONE of the `RunSpecs` function in your whole package / suite!
func TestRenameYourTestClassTestSuite(t *testing.T) {
	RegisterFailHandler(Fail)
	RunSpecs(t, "RenameYourTestClassTestSuite")
}

var _ = Describe("RenameYourTestClassTestSuite", func() {

	var ctxBg context.Context

	BeforeEach(func() {
		resetMonkeyPatching()
		ctxBg = context.Background()
	})

	When("JSON Marshal error", func() {
		It("returns an error", func() {
			// -- ARRANGE --
			var err error = nil
			// -- ACT --
			// -- ASSERT --
			Expect(err).To(BeNil())
			Expect(ctxBg).To(Equal(context.Background()))
		})
	})
})

func resetMonkeyPatching() {
	_ioReadAll = io.ReadAll
}

func expectErrToBeNil(errInput error) {
	Expect(errInput).To(BeNil())
}

func expectErrToNotBeNil(errInput error) {
	Expect(errInput).To(Not(BeNil()))
}
